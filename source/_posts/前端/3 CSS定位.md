---
title: 3 CSS CSS定位、元素显示与隐藏
date: 2021-7-18 00:00:00
tags: css
categories: 前端
---

## CSS定位、元素显示与隐藏

### 1. 定位

<!-- more -->

浮动可以让多个块级盒子一行没有缝隙排列显示，经常用于横向排列盒子

定位则是可以让盒子自由的在某个盒子内移动位置或者固定屏幕中的某个位置，并且可以压住其他盒子

定位 = 定位模式 + 边偏移

#### 1.1 定位模式

定位模式决定元素的定位方式，它通过position的属性来设置

![image-20210715151138669.png](https://i.loli.net/2021/07/21/VGwRP8oi7qaLUdj.png)

#### 1.2 边偏移

边偏移就是定位的盒子移动到最终位置，有top、right、bottom和left四个属性。

```css
top: 80px;
```

#### 1.3 静态定位static

元素的默认定位方式，无定位

- 按照标准流特性摆放位置，没有边偏移

#### 1.4 相对定位

```css
position: relative;
```

1. 它是相对于自己原来的位置来移动的。
2. 原来在标准流的位置继续占有，后面的盒子仍然以标准流的方式对待它。（停职留薪）

3. 相对定位并没有脱标，它最典型的应用是给绝对定位当爹。

#### 1.5 绝对定位

绝对定位是元素在移动位置的时候，相对于它祖先元素来说的。

```css
position: absolute;
```

1. 如果没有祖先元素或者祖先元素没有定位，则以浏览器为准定位。 
2. 如果祖先元素有定位（相对、绝对、固定定位），则以最近一级的有定位祖先元素为参考点移动位置。 
3. 绝对定位不再占有原先的位置。（脱标）

#### 1.6 固定定位

固定定位是元素固定于浏览器可视区的位置。主要使用场景：可以在浏览器页面滚动时元素的位置不会改变。

```css
position: fixed;
```

1. 以浏览器的可视窗口为参照点移动元素。

   - 跟父元素没有任何关系
   - 不随滚动条滚动

2. 固定定位不再占有原先的位置

   固定定位也是脱标的，可以看作是一种特殊的绝对定位

**固定定位小技巧：固定在版心右侧**

1. 让固定定位的盒子 left: 50%. 走到浏览器可视区（也可以看做版心） 的一半位置。 
2.  让固定定位的盒子 margin-left: 版心宽度的一半距离。 多走 版心宽度的一半位置。

```css
position: fixed;
left: 50%;
margin-left: 410px;
width: 100px;
height: 100px;
```

#### 1.7 粘性定位

粘性定位可以被认为是相对定位和固定定位的混合。

```css
position: sticky; top: 10px;
```

1. 以浏览器的可视窗口为参照点移动元素（固定定位特点） 
2. 粘性定位占有原先的位置（相对定位特点） 
3. 必须添加 top 、left、right、bottom 其中一个才有效

IE不兼容

#### 1.8 定位叠放次序

在使用定位布局时，可能会出现盒子重叠的情况，用z-index来控制盒子的

```css
z-index: 1;
```

- 数值越大，盒子越靠上
- 属性值相同，则按照书写顺序，后来居上

- 只有定位的盒子才有z-index属性

#### 1.9 定位的拓展

##### 1.9.1 绝对定位的盒子居中

加了绝对定位的盒子不能通过<css>margin: 0 auto</css>水平居中

1. 让盒子的左侧移动到父级元素的水平中心位置。
2. 让盒子向左移动自身宽度的一半。

```css
position: absolute;
width: 200px;
left: 50%:
margin-left: -100px;
```

##### 1.9.2 定位特殊特性

绝对定位和固定定位也和浮动类似。 

1. 行内元素添加绝对或者固定定位，可以直接设置高度和宽度。 
2. 块级元素添加绝对或者固定定位，如果不给宽度或者高度，默认大小是内容的大小。

##### 1.9.3 脱标的盒子不会触发外边距塌陷 

浮动元素、绝对定位（固定定位）元素都不会触发外边距合并的问题。

##### 1.9.4 绝对定位（固定定位）会完全压住盒子

浮动元素只会压住它下面标准流的盒子，但是不会压住下面标准流盒子里面的文字。

绝对定位（固定定位） 会压住下面标准流所有的内容，包含文字。

浮动之所以不会压住文字，因为浮动产生的目的最初是为了做文字环绕效果的。 文字会围绕浮动元素。

##### 1.9.5 边偏移重叠

如果一个盒子既有left属性也有right属性，则默认会执行left属性，top、bottom同理

### 2. 网页布局总结

1. 标准流 

   可以让盒子上下排列或者左右排列，垂直的块级盒子显示就用标准流布局。 

2. 浮动 

   可以让多个块级元素一行显示或者左右对齐盒子，多个块级盒子水平显示就用浮动布局。 

3. 定位 

   定位最大的特点是有层叠的概念，就是可以让多个盒子前后叠压来显示。如果元素自由在某个盒子内移动就 用定位布局。

### 3. 元素的显示与隐藏

让一个元素在页面中隐藏或者显示出来

#### 3.1 display属性

display属性用于设置一个元素应如何显示

```css
box:hover .mask {
    display: block;
}
```

- display: none；	隐藏对象
- display: block;       显示元素

display隐藏元素后，不再占有原来的位置。

#### 3.2 visibility 可见性

```css
visibiliity: visible || hidden;
```

- visibility: visible；	元素可视
- visibility: hidden;      元素隐藏

visibility隐藏元素后，继续占有原来的位置。

#### 3.3 overflow溢出

overflow 属性指定了如果内容溢出一个元素的框（超过其指定高度及宽度） 时，会发生什么。

```css
overflow: hidden;
```

![image-20210716103943915.png](https://i.loli.net/2021/07/21/r4sbTPmLVjoUIK6.png)

如果有定位的盒子，需要慎用overflow，因为它会隐藏多余的部分。

#### 3.4 总结

1. display 显示隐藏元素 但是不保留位置 
2. visibility 显示隐藏元素 但是保留原来的位置 
3. overflow 溢出显示隐藏 但是只是对于溢出的部分处理

