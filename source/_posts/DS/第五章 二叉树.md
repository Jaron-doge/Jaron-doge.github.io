---
title: 第五章 二叉树
date: 2020-09-15 20:30:15
tags: 树
categories: 数据结构
---

## 第五章 二叉树

### 先序遍历

<!--more-->

```c++
template <typename T, typename VST>
static void visitAlongLeftBranch(BinNodePosi(T) x, VST& visit, stack<T>& S)
{
    while(x) {
        visit(x->data);
        S.push(x->rChild);
        x = x->lChild;
    }
}

template<typename T, typename VST>
void travePre_E2(BinNodePost(T) x, VST& visit)
{
    stack<T> S;
    while(true) {
        visitAlongLeftBranch(x, visit, S);
        if(S.empty())
            break;
        x = S.pop();
    }
}
```

### 中序遍历

```c++
template <typename T, typename VST>
static void goAlongLeftBranch(BinNodePosi(T) x, VST& visit, stack<T>& S)
{
    while(x) {							// 反复入栈，沿左分支深入
        S.push(x);
        x = x->lChild;
    }
}

template <typename T, typename VST>
void traveIn_E1(BinNodePosi(T) x, VST& visit) 
{
    stack<T> S;
    while(true) {
        goAlongLeftBranch(x,visit,  S);	// 从当前节点出发，入栈
        if(S.empty())
            break;
        x = S.pop();
        visit(x->data);        	
        x = x->rChild;					// 转向访问右子树，可能为空
    }
}
```

### 后序遍历

```c++
template <typename T, typename VST>
static void gotoHL(BinNodePosi(T) x, VST& visit, stack<T>& S)
{
    while(x = S.top()) {
        if(hasLChild(*x)) {
            if(hasRChild(*x))
                S.push(x->rChild);
            S.push(x->lChild);
        }
        else
            S.push(x->rChild);
    }
    S.pop();
}

template <typename T, typename VST>
void travPos(BinNodePosi(T) x, VST& visit) 
{
    if(x)
        S.push(x);
    while(!S.empty()) {
        if(S.top() != x->parent)
        	gotoHL(x, visit, S);
        x = S.pop();
        visit(x->data);
    }
}
```

### 层次遍历

```c++
template <typename T, typename VST>
static void travLevel(BinNodePosi(T) x, VST& visit)
{
    queue<T> Q;
    Q.enqueue(x);
    while(!Q.empty()) {
        x = Q.dequeue(x);
        if(HasLChild(*x)) Q.enqueue(x->lChild);
        if(HasRChild(*x)) Q.enqueue(x->rChild);
    }
}
```



### 概念

1. 单节点高度0，空树高度-1

2. 真二叉树：节点度数只为0或2



