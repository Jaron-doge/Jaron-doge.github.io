---
title: 第1章 导论
date: 2020-09-24 20:30:15
tags: 
categories: 操作系统
---

## 第1章 导论

### 操作系统

#### 什么是操作系统

<!-- more -->

- 管理计算机硬件、为应用程序提供基础、作为用户和计算机硬件的中介的程序
- 管理和分配资源、为了有效和公平的使用资源在冲突请求之间做出决定的资源分配器
- 控制程序执行，以防止错误和错误使用计算机和控制IO设备操作的控制程序

**操作系统是一组控制和管理计算机软硬件资源、合理地对各类作业进行调度以及方便用户的程序的集合**

#### 多路批处理系统

- 两个/两个或更多作业同时进入主存储器
- 在宏观操作状态
- 共享所有系统资源

#### 分时系统

- 多终端单主机

- 提供用户与系统之间的在线通信； 当操作系统完成一个命令的执行时，它不是从读卡器而是从用户的键盘中查找下一个“控制语句”。
- 在线系统必须可供用户访问数据和代码。

#### 专用系统

​	通常在专用应用中用作控制设备

- 严格的时间限制

#### PC 系统

- 个人独占计算机不需要高级CPU保护技术

#### 并行系统

- 紧密耦合系统-处理器共享内存和时钟；通信通常通过共享内存进行

#### 分布式系统

- 在几个物理处理器之间分配计算。
- 松耦合系统–每个处理器都有自己的本地内存； 处理器通过各种通信线路（例如高速总线或电话线）相互通信。

### 硬件功能

#### 特权指令

- 访问某些禁止用户程序直接访问的硬件资源的指令

- 直接访问I / O设备（例如磁盘，打印机等）的指令
- 用于操作内存管理状态的指令（页表指针，刷新TLB等）
- 一些特殊状态位的设置指令
- HLT(停机指令)

#### 处理器状态

- kernel mode / user mode

##### PSW(Program Status Word)

- 用来指示处理器的状态

#### 系统调用

- CPU执行访管指令、引起访管中断
- 处理器保存中断点的程序执行上下文环境，CPU切换到管态
- 中断处理程序开始工作，调用相应的系统服务
- 中断处理结束后，恢复被中断程序的上下文环境，CPU恢复为目态，回到中断点继续执行

### 作业

**1.1** What are the three main purposes of an operating system?

- 提供一个用户可以运行程序的环境
- 提高软硬件资源的利用率
- 作为控制系统
  - 监督用户程序的执行，以防止错误和不当使用
  - 操作和控制管理I/O设备

**1.2** We have stressed the need for an operating system to make efficient use of the computing hardware. When is it appropriate for the operating
system to forsake this principle and to “waste” resources? Why is such a system not really wasteful?

​	    如果用户更注重交互性的话，可以通过放弃这样的原则，浪费一些对于硬件计算的利用，提升用户的体验。这样的系统并不是真的浪费，而是能得到更好的用户反馈，达到为用户服务的目的。



**1.3** What is the main difficulty that a programmer must overcome in writing an operating system for a real-time environment?

实时系统需要严格的时间限制，所以最主要的困难就是让操作系统有严格的时间限制。



**1.4** Keeping in mind the various definitions of operating system, consider
whether the operating system should include applications such as web
browsers and mail programs. Argue both that it should and that it should not, and support your answers.

不应该有：

- 应用程序是应用程序，而不是操作系统的一部分
- 在内核中运行的任何性能优势都被安全漏洞所抵消
- 这会导致操作系统臃肿

应该有：

- 它可能会更好地利用内核中的功能，因此比运行在内核之外的应用程序具有性能优势



**1.5** How does the distinction between kernel mode and user mode function as a rudimentary form of protection (security) system?

 		把重要的指令设置为只有Kernel Mode时才可调用，只给User Mode较少的权限，可以提高系统安全性。



**1.6** Which of the following instructions should be privileged?
		a. Set value of timer. (Kernel Mode)
		b. Read the clock. (User Mode)
		c. Clear memory. (Kernel Mode)
		d. Issue a trap instruction. (User Mode)
		e. Turn off interrupts. (Kernel Mode)
		f. Modify entries in device-status table. (Kernel Mode)
		g. Switch from user to kernel mode. (User Mode)
		h. Access I/O device. (Kernel Mode)



**1.7** Some early computers protected the operating system by placing it in a memory partition that could not be modified by either the user job or the operating system itself. Describe two difficulties that you think could arise with such a scheme.

① 操作系统无法更新、出错时也无法修改

② 用户的数据无法存储在被保护的内存中，有安全隐患



**1.12** In a multiprogramming and time-sharing environment, several users share the system simultaneously. This situation can result in various security problems.

​		a. What are two such problems?

​			①使用系统资源没有合适的记账

​			②彼此的操作可能会影响彼此的程序或数据

​		b. Can we ensure the same degree of security in a time-shared machine as in a dedicated machine? Explain your answer.

​			不能，一个用户的数据可能被会受另一个用户的影响，而这种影响在根本上是无法解决的，所以安全性得不到像专用机一样的很好的保证。

  

**1.13** The issue of resource utilization shows up in different forms in different types of operating systems. List what resources must be managed carefully in the following settings:

​		a. Mainframe or minicomputer systems

​				CPU， 内存， 外存

​		b. Workstations connected to servers

​				网络， CPU， 内存

​		c. Mobile computers

 				功率，用户体验

**1.14** Under what circumstances would a user be better off using a timesharing system than a PC or a single-user workstation?

- 当其他用户很少时，任务大，硬件速度快，分时就有意义了



**1.19** What is the purpose of interrupts? How does an interrupt differ from a trap? Can traps be generated intentionally by a user program? If so, for what purpose?

 		为了在现有任务可能没执行完时执行一个新的任务。陷阱是软件产生的，中断是由硬件产生的。用户可以有意地产生陷阱，用来调用操作系统的例程或者捕获算术错误。



**1.21** Some computer systems do not provide a privileged mode of operation in hardware. Is it possible to construct a secure operating system for these computer systems? Give arguments both that it is and that it is not possible.

可以：

- 一种方法是为双模处理器（一种具有特权模式的处理器）编写一个模拟器，并在这个模拟器上运行操作系统。

- 执行用安全语言（如Java）编写的用户程序才能工作执行用安全语言（如Java）编写的用户程序才能工作

不可以：

- 如果不牺牲功能性，任由用户程序调用特权指令，会对系统安全构成很大的威胁