---
title: 第13章 I/O系统
date: 2020-12-19 13:30:15
tags: 
categories: 操作系统
---
## I/O系统

### 作业

<!-- more -->

13.1 State three advantages of placing functionality in a device controller,
rather than in the kernel. State three disadvantages.

优点：

- bug不会导致系统崩溃

- 内核部分更加简单
- 硬件算法效率更高

缺点：

- bug不容易修复
- 很难更新
- 硬件算法可能无法适配所有软件算法

13.3 Why might a system use interrupt-driven I/O to manage a single serial
port and polling I/O to manage a front-end processor, such as a terminal
concentrator?

中断集中器会产生很多的短I/O操作，当I/O频繁且持续时间短时，轮询比中断更高效。如果只有一个端口，I/O请求不频繁，终端更高效。

13.5 How does DMA increase system concurrency? How does it complicate
hardware design?

DMA通过让CPU在工作的同时，通过自己的系统总线和内存总线传输数据，提高了并行性。DMA要放在系统中，而系统也要允许DMA使用总线，使得硬件设计变得复杂。

13.8 When multiple interrupts from different devices appear at about the
same time, a priority scheme could be used to determine the order in
which the interrupts would be serviced. Discuss what issues need to
be considered in assigning priorities to different interrupts.

硬件产生的中断要比软件产生的陷阱引起的中断具有更高的优先级。控制设备的中断应该有更高的优先级。有时间限制的中断应该有更高的优先级。

13.9 What are the advantages and disadvantages of supporting memory mapped
I/O to device control registers?

优点：这种I/O不需要特殊的I/O指令集

缺点：需要保证用户程序不能访问设备控制寄存器

13.11 In most multiprogrammed systems, user programs access memory
through virtual addresses, while the operating system uses raw physical
addresses to access memory. What are the implications of this
design for the initiation of I/O operations by the user program and
their execution by the operating system?

用户程序的I/O操作会请求一片内存空间作为缓存，内核会将数据从用户程序的缓存区拷贝到内核空间中的缓存区。在软件的帮助下，内核在用户程序的虚拟地址空间的上下文中将虚拟地址转换为相应的物理地址来访问用户缓冲区。

13.12 What are the various kinds of performance overhead associated with
servicing an interrupt?

上下文切换的开销、保存和恢复指令的开销